namespace SpriteKind {
    export const Eyesight = SpriteKind.create()
    export const Yellow_Key = SpriteKind.create()
    export const Red_Key = SpriteKind.create()
    export const Sound_1 = SpriteKind.create()
    export const Pink_Key = SpriteKind.create()
    export const Orange_Key = SpriteKind.create()
    export const Blue_Key = SpriteKind.create()
    export const Fake_Keys = SpriteKind.create()
    export const Keycard = SpriteKind.create()
    export const Dark_Purple = SpriteKind.create()
    export const Red_Arua = SpriteKind.create()
    export const Medium_Enemy = SpriteKind.create()
    export const Sanity_Healer = SpriteKind.create()
    export const Fake_player = SpriteKind.create()
    export const Player_2 = SpriteKind.create()
}
namespace StatusBarKind {
    export const Sanity_Level = StatusBarKind.create()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile34`, function (sprite, location) {
    if (controller.A.isPressed()) {
        Level_1()
        Render.setViewMode(ViewMode.raycastingView)
    }
})
statusbars.onStatusReached(StatusBarKind.Sanity_Level, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Percentage, 50, function (status) {
    status.setLabel("50%", 15)
    color.Darken.startScreenEffect(5000)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile35`, function (sprite, location) {
    if (controller.A.isPressed()) {
        level_2()
        Render.setViewMode(ViewMode.raycastingView)
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile30`, function (sprite, location) {
    info.setLife(1)
})
info.onLifeZero(function () {
    if (tiles.tileAtLocationEquals(mySprite.tilemapLocation(), sprites.castle.tilePath5) || tiles.tileAtLocationEquals(mySprite.tilemapLocation(), sprites.castle.saplingOak)) {
        game.gameOver(false)
    }
    if (tiles.tileAtLocationEquals(mySprite.tilemapLocation(), sprites.castle.tileGrass2) || tiles.tileAtLocationEquals(mySprite.tilemapLocation(), sprites.castle.saplingPine)) {
        for (let value of tiles.getTilesByType(assets.tile`myTile28`)) {
            info.setLife(3)
            tiles.placeOnTile(mySprite, value)
            game.showLongText("Checkpoint 1", DialogLayout.Bottom)
            mySprite.startEffect(effects.hearts, 1000)
        }
    } else if (tiles.tileAtLocationEquals(mySprite.tilemapLocation(), sprites.castle.tileGrass2) || tiles.tileAtLocationEquals(mySprite.tilemapLocation(), sprites.castle.saplingPine)) {
        game.setGameOverPlayable(false, music.melodyPlayable(music.spooky), true)
        game.setGameOverMessage(false, "I Give Up ðŸ˜­ðŸ˜­")
        game.gameOver(false)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Pink_Key, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        for (let value of tiles.getTilesByType(assets.tile`myTile25`)) {
            tiles.setWallAt(value, false)
            tiles.setTileAt(value, assets.tile`myTile2`)
        }
        sprites.destroy(otherSprite, effects.spray, 1000)
    }
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.A.isPressed() && controller.B.isPressed()) {
        if (game.ask("Do you want to go to developer room") == true) {
            if (game.askForNumber("What is the pin", 4) == 7154) {
                if (game.askForString("What is the password") == "Timestop123") {
                    Render.setViewMode(ViewMode.tilemapView)
                    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
                    sprites.destroyAllSpritesOfKind(SpriteKind.Yellow_Key)
                    sprites.destroyAllSpritesOfKind(SpriteKind.Eyesight)
                    sprites.destroyAllSpritesOfKind(SpriteKind.Red_Key)
                    sprites.destroyAllSpritesOfKind(SpriteKind.Sound_1)
                    sprites.destroyAllSpritesOfKind(SpriteKind.Sanity_Healer)
                    tiles.loadMap(tiles.createMap(tilemap`level27`))
                    tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 0))
                } else {
                    pause(10000000000000000000000000000000000000000000000000000000000)
                }
            } else if (game.askForNumber("What is the pin(For Noobs)", 10000) == 9966) {
                mySprite.setKind(SpriteKind.Food)
                pause(30000)
                mySprite.setKind(SpriteKind.Player)
            } else {
                pause(10000000000000000000000000000000000000000000000000000000000)
            }
        } else {
            pause(10000000000000000000000000000000000000000000000000000000000)
        }
    }
})
scene.onOverlapTile(SpriteKind.Red_Arua, sprites.castle.saplingPine, function (sprite, location) {
    tiles.setWallAt(location, false)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile33`, function (sprite, location) {
    if (controller.A.isPressed()) {
        Sanity.max = 1e+79
        Sanity.value = 1e+30
    }
})
function A_Button_in_inventory () {
    if (Cursor_in_inventory) {
        if (Toolbar.get_items().length < Toolbar.get_number(ToolbarNumberAttribute.MaxItems)) {
            Toolbar.get_items().push(inventory.get_items().removeAt(inventory.get_number(InventoryNumberAttribute.SelectedIndex)))
            B_button_in_inventory()
            Toolbar.set_number(ToolbarNumberAttribute.SelectedIndex, Toolbar.get_items().length - 1)
        }
    } else {
        if (inventory.get_items().length < inventory.get_number(InventoryNumberAttribute.MaxItems) && Toolbar.get_number(ToolbarNumberAttribute.SelectedIndex) < Toolbar.get_items().length) {
            inventory.get_items().push(Toolbar.get_items().removeAt(Toolbar.get_number(ToolbarNumberAttribute.SelectedIndex)))
            B_button_in_inventory()
            inventory.set_number(InventoryNumberAttribute.SelectedIndex, inventory.get_items().length - 1)
        }
    }
    Toolbar.update()
    inventory.update()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile14`, function (sprite, location) {
    tiles.setTileAt(location, assets.tile`myTile28`)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (In_Inventory) {
        A_Button_in_inventory()
    } else {
        item = Remove_item(Toolbar.get_number(ToolbarNumberAttribute.SelectedIndex))
        if (item) {
            mySprite.sayText("Drank" + item.get_text(ItemTextAttribute.Name), 5000, false)
        }
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (In_Inventory) {
        LeftButton_in_inventory()
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile31`, function (sprite, location) {
    info.setLife(1e+130)
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    Red_aura = sprites.create(img`
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        `, SpriteKind.Red_Arua)
    sprite.setImage(img`
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff2222ff........
        .......fb222222bf.......
        .......f22222222f.......
        ......f1222222221f......
        ......f1222222221f......
        ......f1112222111f......
        ......fb1bfddfb1bf......
        ......fc1cf22fc1cf......
        .......fb222222bf.......
        ......fffc1b2b1ffff.....
        ....fc222cbfbfc222cf....
        ....f2b2b2ffff2b2b2f....
        ....fbfbffffffbfbfbf....
        .........ffffff.........
        ...........fff..........
        ........................
        ........................
        ........................
        ........................
        `)
    sprite.setKind(SpriteKind.Medium_Enemy)
    sprite.sayText(" I am a fusion of ghost and ghost you can call me gohost")
    tiles.placeOnTile(Red_aura, sprite.tilemapLocation())
    sprites.destroy(Red_aura, effects.fire, 500000)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Blue_Key, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        for (let value of tiles.getTilesByType(assets.tile`myTile13`)) {
            tiles.setWallAt(value, false)
            tiles.setTileAt(value, assets.tile`myTile2`)
        }
        sprites.destroy(otherSprite, effects.spray, 1000)
    }
})
function level_2 () {
    info.changeLifeBy(1)
    sprites.destroy(mySprite2)
    sprites.destroy(Sound_for_1st_enemy)
    tiles.loadMap(tiles.createMap(tilemap`level0`))
    game.splash("Level 2")
    color.Darken.startScreenEffect()
    tiles.placeOnTile(mySprite, tiles.getTileLocation(7, 0))
    mySprite3 = darts.create(img`
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f11111111f.......
        ......fd11111111df......
        ......fd11111111df......
        ......fddd1111dddf......
        ......fbdbfddfbdbf......
        ......fcdcf11fcdcf......
        .......fb111111bf.......
        ......fffcdb1bdffff.....
        ....fc111cbfbfc111cf....
        ....f1b1b1ffff1b1b1f....
        ....fbfbffffffbfbfbf....
        .........ffffff.........
        ...........fff..........
        ........................
        ........................
        ........................
        ........................
        `, SpriteKind.Enemy)
    mySprite2 = darts.create(img`
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f11111111f.......
        ......fd11111111df......
        ......fd11111111df......
        ......fddd1111dddf......
        ......fbdbfddfbdbf......
        ......fcdcf11fcdcf......
        .......fb111111bf.......
        ......fffcdb1bdffff.....
        ....fc111cbfbfc111cf....
        ....f1b1b1ffff1b1b1f....
        ....fbfbffffffbfbfbf....
        .........ffffff.........
        ...........fff..........
        ........................
        ........................
        ........................
        ........................
        `, SpriteKind.Enemy)
    mySprite3.setTrace(true)
    mySprite2.setTrace(true)
    tiles.placeOnRandomTile(mySprite3, sprites.castle.tileGrass2)
    tiles.placeOnRandomTile(mySprite2, sprites.castle.tileGrass2)
    mySprite2.follow(mySprite, 40)
    mySprite3.follow(mySprite, 60)
    Pink_Key = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4443.............
        ..444433...44.......
        ..f4443333f443......
        ..f444333ff443......
        ..f44433...44.......
        ...f443.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `, SpriteKind.Pink_Key)
    Orange_Key = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4444.............
        ..444444...44.......
        ..f4444444f444......
        ..f444444ff444......
        ..f44444...44.......
        ...f444.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `, SpriteKind.Orange_Key)
    Blue_Key = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4448.............
        ..444488...44.......
        ..f4448888f448......
        ..f444888ff448......
        ..f44488...44.......
        ...f448.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `, SpriteKind.Blue_Key)
    Dark_Purple_Key = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...444c.............
        ..4444cc...44.......
        ..f444ccccf44c......
        ..f444cccff44c......
        ..f444cc...44.......
        ...f44c.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `, SpriteKind.Dark_Purple)
    Keycard = sprites.create(img`
        . b b b b b b b b . 
        b 1 1 1 b b 1 1 1 b 
        b 1 1 1 8 8 1 1 1 b 
        c 1 1 1 8 8 1 1 1 b 
        c 1 1 1 8 8 1 1 1 b 
        c 1 1 1 8 8 1 1 1 c 
        c f f f 8 8 f f f c 
        . c c c c c c c c . 
        `, SpriteKind.Keycard)
    Fake_Keys = [
    img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4445.............
        ..444455...44.......
        ..f444555ff445......
        ..f444555ff445......
        ..f44455...44.......
        ...f445.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `,
    img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4442.............
        ..444422...44.......
        ..f444222ff442......
        ..f444222ff442......
        ..f44422...44.......
        ...f442.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `,
    img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4443.............
        ..444433...44.......
        ..f444333ff443......
        ..f444333ff443......
        ..f44433...44.......
        ...f443.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `,
    img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4444.............
        ..444444...44.......
        ..f444444ff444......
        ..f444444ff444......
        ..f44444...44.......
        ...f444.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `,
    img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4448.............
        ..444488...44.......
        ..f444888ff448......
        ..f444888ff448......
        ..f44488...44.......
        ...f448.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `,
    img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...444c.............
        ..4444cc...44.......
        ..f444cccff44c......
        ..f444cccff44c......
        ..f444cc...44.......
        ...f44c.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `
    ]
    for (let index = 0; index < randint(30, 50); index++) {
        Trap_Key = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Fake_Keys)
        Trap_Key.setImage(Fake_Keys._pickRandom())
        tiles.placeOnRandomTile(Trap_Key, sprites.castle.tileGrass2)
    }
    Sanity_Healers = [img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ........dd55........
        ........5555........
        .........44.........
        ........dddd........
        ........dddd........
        .......444444.......
        .......444444.......
        .......444444.......
        .......555555.......
        .......555555.......
        .......555555.......
        ........5555........
        ........4444........
        ....................
        `, img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        .........bb.........
        ........cccc........
        ........cccc........
        .........ff.........
        .........bf.........
        .........bb.........
        ........bbbb........
        .......bbbbbb.......
        .......bbbbbb.......
        .......bbbbbb.......
        .......bbbbbc.......
        ........cccc........
        ....................
        ....................
        `, img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        .....7977777777.....
        .....7777777777.....
        ......66666666......
        ......99999999......
        .....9999999999.....
        .....9999999999.....
        .....9999999999.....
        .....7777777777.....
        .....7777777777.....
        .....7777777776.....
        .....7777777776.....
        ......76666666......
        ....................
        ....................
        `]
    for (let index = 0; index < randint(5, 10); index++) {
        Heals_Sanity = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Sanity_Healer)
        Heals_Sanity.setImage(Sanity_Healers._pickRandom())
        tiles.placeOnRandomTile(Heals_Sanity, sprites.castle.tilePath5)
    }
    tiles.placeOnRandomTile(Pink_Key, sprites.castle.tileGrass2)
    tiles.placeOnRandomTile(Dark_Purple_Key, sprites.castle.tileGrass2)
    tiles.placeOnRandomTile(Orange_Key, sprites.castle.tileGrass2)
    tiles.placeOnRandomTile(Blue_Key, sprites.castle.tileGrass2)
    tiles.placeOnRandomTile(Keycard, sprites.castle.tileGrass2)
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Yellow_Key, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        for (let value of tiles.getTilesByType(sprites.dungeon.doorLockedNorth)) {
            tiles.setWallAt(value, false)
            tiles.setTileAt(value, assets.tile`myTile2`)
        }
        sprites.destroy(otherSprite, effects.spray, 1000)
    }
})
function B_button_in_inventory () {
    if (In_Inventory) {
        Cursor_in_inventory = !(Cursor_in_inventory)
        if (inventory.get_items().length == 0) {
            Cursor_in_inventory = false
        }
        if (Cursor_in_inventory) {
            if (Last_inventory_select == -1) {
                Last_inventory_select = 0
            }
            inventory.set_number(InventoryNumberAttribute.SelectedIndex, Math.constrain(Last_inventory_select, 0, inventory.get_items().length - 1))
            Last_toolbar_select = Toolbar.get_number(ToolbarNumberAttribute.SelectedIndex)
            Toolbar.set_number(ToolbarNumberAttribute.SelectedIndex, -1)
        } else {
            if (Last_toolbar_select == -1) {
                Last_toolbar_select = 0
            }
            Toolbar.set_number(ToolbarNumberAttribute.SelectedIndex, Last_toolbar_select)
            Last_inventory_select = inventory.get_number(InventoryNumberAttribute.SelectedIndex)
            inventory.set_number(InventoryNumberAttribute.SelectedIndex, -1)
        }
    } else {
        Toolbar.change_number(ToolbarNumberAttribute.SelectedIndex, 1)
        if (Toolbar.get_number(ToolbarNumberAttribute.SelectedIndex) == Toolbar.get_number(ToolbarNumberAttribute.MaxItems)) {
            Toolbar.set_number(ToolbarNumberAttribute.SelectedIndex, 0)
        }
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Keycard, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        for (let value of tiles.getTilesByType(assets.tile`myTile27`)) {
            tiles.setWallAt(value, false)
            tiles.setTileAt(value, assets.tile`myTile2`)
        }
        sprites.destroy(otherSprite, effects.spray, 1000)
    }
})
function Add_Items (item_list: Inventory.Item[]) {
    for (let item of Toolbar.get_items()) {
        if (item.get_image().equals(item_list[0].get_image())) {
            if (item.get_text(ItemTextAttribute.Tooltip) == "") {
                item.set_text(ItemTextAttribute.Tooltip, "2")
            } else {
                item.set_text(ItemTextAttribute.Tooltip, convertToText(parseFloat(item.get_text(ItemTextAttribute.Tooltip)) + 1))
            }
            Toolbar.update()
            return true
        }
    }
    for (let item of inventory.get_items()) {
        if (item.get_image().equals(item_list[0].get_image())) {
            if (item.get_text(ItemTextAttribute.Tooltip) == "") {
                item.set_text(ItemTextAttribute.Tooltip, "2")
            } else {
                item.set_text(ItemTextAttribute.Tooltip, convertToText(parseFloat(item.get_text(ItemTextAttribute.Tooltip)) + 1))
            }
            inventory.update()
            return true
        }
    }
    if (Toolbar.get_items().length < Toolbar.get_number(ToolbarNumberAttribute.MaxItems)) {
        Toolbar.get_items().push(item_list[0])
        item_list[0].set_text(ItemTextAttribute.Tooltip, "")
        Toolbar.update()
        return true
    }
    if (inventory.get_items().length < inventory.get_number(InventoryNumberAttribute.MaxItems)) {
        inventory.get_items().push(item_list[0])
        item_list[0].set_text(ItemTextAttribute.Tooltip, "")
        inventory.update()
        return true
    }
    return false
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Red_Key, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        for (let value of tiles.getTilesByType(assets.tile`myTile`)) {
            tiles.setWallAt(value, false)
            tiles.setTileAt(value, assets.tile`myTile2`)
        }
        sprites.destroy(otherSprite, effects.spray, 1000)
    }
})
statusbars.onStatusReached(StatusBarKind.Sanity_Level, statusbars.StatusComparison.GTE, statusbars.ComparisonType.Fixed, 100, function (status) {
    status.setLabel("100", 15)
    color.Darken.startScreenEffect(5000)
})
function Level_1 () {
    mySprite = Render.getRenderSpriteVariable()
    mySprite.setImage(img`
        . . . . . . f f f f . . . . . . 
        . . . . f f f 2 2 f f f . . . . 
        . . . f f f 2 2 2 2 f f f . . . 
        . . f f f e e e e e e f f f . . 
        . . f f e 2 2 2 2 2 2 e e f . . 
        . . f e 2 f f f f f f 2 e f . . 
        . . f f f f e e e e f f f f . . 
        . f f e f b f 4 4 f b f e f f . 
        . f e e 4 1 f d d f 1 4 e e f . 
        . . f e e d d d d d d e e f . . 
        . . . f e e 4 4 4 4 e e f . . . 
        . . e 4 f 2 2 2 2 2 2 f 4 e . . 
        . . 4 d f 2 2 2 2 2 2 f d 4 . . 
        . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
        . . . . . f f f f f f . . . . . 
        . . . . . f f . . f f . . . . . 
        `)
    mySprite.setKind(SpriteKind.Player)
    Render.move(mySprite, 60, -250)
    Render.moveWithController(2, 3, 2)
    Render.setViewMode(ViewMode.raycastingView)
    Inventory_ToolBar()
    scene.setBackgroundImage(img`
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111ddffffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111dddfffffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111ddddffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111dddddfffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111dddddfffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111ddddddffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111ddddddffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111dddddffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111111dddffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111111111111ddffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111111111ffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111111111ffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111111111ffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdddddddd1111111111111ffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffddddddd111111111111fffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdddddddd11111111111fffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffddddddd1111111111ffffffffffffffffffffffffffffff
        ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdddddd111111111fffffffffffffffffffffffffffffff
        fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffddddd11111111ffffffffffffffffffffffffffffffff
        fffffffffffffffffddddffffffffffffffffffffffffffffffffffffddddffffffffffffffffffffffffffffffffffffddddffffffffffffffffddd111111fffffffffffddddfffffffffffffffffff
        fffffffffffdddddddddddfffffffffffffffffffffffffffffdddddddddddfffffffffffffffffffffffffffffdddddddddddfffffffffffffffffffffffffffffdddddddddddffffffffffffffffff
        ffffffffddddddddddddddffffffffffffffffffffffffffddddddddddddddffffffffffffffffffffffffffddddddddddddddffffffffffffffffffffffffffddddddddddddddffffffffffffffffff
        ffffffddddddddddddddddffffffffffffffffffffffffddddddddddddddddffffffffffffffffffffffffddddddddddddddddffffffffffffffffffffffffddddddddddddddddffffffffffffffffff
        fffffdddddddddddddddddfffffffffffffffffffffffdddddddddddddddddfffffffffffffffffffffffdddddddddddddddddfffffffffffffffffffffffdddddddddddddddddffffffffffffffffff
        fffffdddddddddddddddddfffffffffffffffffffffffdddddddddddddddddfffffffffffffffffffffffdddddddddddddddddfffffffffffffffffffffffdddddddddddddddddffffffffffffffffff
        ffffdddddddddddddddddddfffffffffffffffffffffdddddddddddddddddddfffffffffffffffffffffdddddddddddddddddddfffffffffffffffffffffdddddddddddddddddddfffffffffffffffff
        ffffdddddddddddddddddddfffffffffffffffffffffdddddddddddddddddddfffffffffffffffffffffdddddddddddddddddddfffffffffffffffffffffdddddddddddddddddddfffffffffffffffff
        fffddddddddddddddddddddffffffdddfffffffffffddddddddddddddddddddffffffdddfffffffffffddddddddddddddddddddffffffdddfffffffffffddddddddddddddddddddffffffdddffffffff
        fffddddddddddddddddddddfffffdddddffffffffffddddddddddddddddddddfffffdddddffffffffffddddddddddddddddddddfffffdddddffffffffffddddddddddddddddddddfffffdddddfffffff
        ffdddddddddddddddddddddfffffdddddfffffffffdddddddddddddddddddddfffffdddddfffffffffdddddddddddddddddddddfffffdddddfffffffffdddddddddddddddddddddfffffdddddfffffff
        ffdddddddddddddddddddddfffffdddddfffffffffdddddddddddddddddddddfffffdddddfffffffffdddddddddddddddddddddfffffdddddfffffffffdddddddddddddddddddddfffffdddddfffffff
        ffdddddddddddddddddddddfffffddddddffffffffdddddddddddddddddddddfffffddddddffffffffdddddddddddddddddddddfffffddddddffffffffdddddddddddddddddddddfffffddddddffffff
        fddddddddddddddddddddddfffffddddddfffffffddddddddddddddddddddddfffffddddddfffffffddddddddddddddddddddddfffffddddddfffffffddddddddddddddddddddddfffffddddddffffff
        fddddddddddddddddddddddfffffddddddfffffffddddddddddddddddddddddfffffddddddfffffffddddddddddddddddddddddfffffddddddfffffffddddddddddddddddddddddfffffddddddffffff
        fddddddddddddddddddddddffffdddddddfffffffddddddddddddddddddddddffffdddddddfffffffddddddddddddddddddddddffffdddddddfffffffddddddddddddddddddddddffffdddddddffffff
        ddddddddddddddd6dddddddffffdddddddffffddddddddddddddddd6dddddddffffdddddddffffddddddddddddddddd6dddddddffffdddddddffffddddddddddddddddd6dddddddffffdddddddffffdd
        dddddddddddddd66dddddddffffdddddddffdddddddddddddddddd66dddddddffffdddddddffdddddddddddddddddd66dddddddffffdddddddffdddddddddddddddddd66dddddddffffdddddddffdddd
        dddddddddddddd66dddddddffffddddddddfdddddddddddddddddd66dddddddffffddddddddfdddddddddddddddddd66dddddddffffddddddddfdddddddddddddddddd66dddddddffffddddddddfdddd
        ddddddddddddd6666ddddddffffdddddddddddddddddddddddddd6666ddddddffffdddddddddddddddddddddddddd6666ddddddffffdddddddddddddddddddddddddd6666ddddddffffddddddddddddd
        ddddddddddd66666ddddddddddddddddddddddddddddddddddd66666ddddddddddddddddddddddddddddddddddd66666ddddddddddddddddddddddddddddddddddd66666dddddddddddddddddddddddd
        ddddddddddddd666ddddddddddddddd9999999ddddddddddddddd666ddddddddddddddd9999999ddddddddddddddd666ddddddddddddddd9999999ddddddddddddddd666ddddddddddddddd9999999dd
        dddddddddddd66666dddddddddddd99999999999dddddddddddd66666dddddddddddd99999999999dddddddddddd66666dddddddddddd99999999999dddddddddddd66666dddddddddddd99999999999
        9ddddddddddd6666666ddddddddd9999999999999ddddddddddd6666666ddddddddd9999999999999ddddddddddd6666666ddddddddd9999999999999ddddddddddd6666666ddddddddd999999999999
        999dddddddd666666ddddddddd99999999999999999dddddddd666666ddddddddd99999999999999999dddddddd666666ddddddddd99999999999999999dddddddd666666ddddddddd99999999999999
        9999ddddd666666666ddddddd9999999999999999999ddddd666666666ddddddd9999999999999999999ddddd666666666ddddddd9999999999999999999ddddd666666666ddddddd999999999999999
        99999dddddd66666666ddddd999999999999999999999dddddd66666666ddddd999999999999999999999dddddd66666666ddddd999999999999999999999dddddd66666666ddddd9999999999999999
        999999dd996666666dddddd99999999999999999999999dd996666666dddddd99999999999999999999999dd996666666dddddd99999999999999999999999dd996666666dddddd99999999999999999
        999999999999666666dddd996999999999999999999999999999666666dddd996999999999999999999999999999666666dddd996999999999999999999999999999666666dddd996999999999999999
        9999999999666666666dd99969999999999999999999999999666666666dd99969999999999999999999999999666666666dd99969999999999999999999999999666666666dd9996999999999999999
        9999999996666666666699966999999999999999999999999666666666669996699999999999999999999999966666666666999669999999999999999999999996666666666699966999999999999999
        9999999666666666669999996699999999999999999999966666666666999999669999999999999999999996666666666699999966999999999999999999999666666666669999996699999999999999
        9999999996666666669999966999999999999999999999999666666666999996699999999999999999999999966666666699999669999999999999999999999996666666669999966999999999999999
        9999999996666666999999666699999999999999999999999666666699999966669999999999999999999999966666669999996666999999999999999999999996666666999999666699999999999999
        9999999966966666666996666669999999999999999999996696666666699666666999999999999999999999669666666669966666699999999999999999999966966666666996666669999999999999
        9999999999666666666699966999999999996999999999999966666666669996699999999999699999999999996666666666999669999999999969999999999999666666666699966999999999996999
        9999999966666666666996666669999999996999999999996666666666699666666999999999699999999999666666666669966666699999999969999999999966666666666996666669999999996999
        9996999666666666666966666666999999966699999699966666666666696666666699999996669999969996666666666669666666669999999666999996999666666666666966666666999999966699
        9996699999666666666666666699999999996699999669999966666666666666669999999999669999966999996666666666666666999999999966999996699999666666666666666699999999996699
        9966999966666666666666666666999999966999996699996666666666666666666699999996699999669999666666666666666666669999999669999966999966666666666666666666999999966999
        9996699666666666666666666666699999666699999669966666666666666666666669999966669999966996666666666666666666666999996666999996699666666666666666666666699999666699
        9966666666666666666666666669999999966669996666666666666666666666666999999996666999666666666666666666666666699999999666699966666666666666666666666669999999966669
        9996666666666666666666666666699999666699999666666666666666666666666669999966669999966666666666666666666666666999996666999996666666666666666666666666699999666699
        9996666666666666666666666666669996666669999666666666666666666666666666999666666999966666666666666666666666666699966666699996666666666666666666666666669996666669
        9966666666666666666666666666999999666699996666666666666666666666666699999966669999666666666666666666666666669999996666999966666666666666666666666666999999666699
        9666666666666666666666666666669966666669966666666666666666666666666666996666666996666666666666666666666666666699666666699666666666666666666666666666669966666669
        9966666666666666666666666666666996666666996666666666666666666666666666699666666699666666666666666666666666666669966666669966666666666666666666666666666996666666
        9966666666666666666666666666669966666666996666666666666666666666666666996666666699666666666666666666666666666699666666669966666666666666666666666666669966666666
        6666666666666666666666666666666966666666666666666666666666666666666666696666666666666666666666666666666666666669666666666666666666666666666666666666666966666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        `)
    game.splash("Level One", "Start")
    info.setLife(3)
    tiles.loadMap(tiles.createMap(tilemap`level2`))
    tiles.placeOnTile(mySprite, tiles.getTileLocation(2, 0))
    Sanity = statusbars.create(20, 4, StatusBarKind.Sanity_Level)
    Sanity.setFlag(SpriteFlag.RelativeToCamera, true)
    Sanity.setFlag(SpriteFlag.GhostThroughSprites, true)
    Sanity.max = 100
    Sanity.value = 100
    Sanity.attachToSprite(mySprite)
    Sanity.setColor(11, 2)
    Sanity.setBarSize(40, 4)
    Sanity.setPosition(134, 11)
    Sanity.setLabel("Sanity")
    mySprite2 = darts.create(img`
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f11111111f.......
        ......fd11111111df......
        ......fd11111111df......
        ......fddd1111dddf......
        ......fbdbfddfbdbf......
        ......fcdcf11fcdcf......
        .......fb111111bf.......
        ......fffcdb1bdffff.....
        ....fc111cbfbfc111cf....
        ....f1b1b1ffff1b1b1f....
        ....fbfbffffffbfbfbf....
        .........ffffff.........
        ...........fff..........
        ........................
        ........................
        ........................
        ........................
        `, SpriteKind.Enemy)
    tiles.placeOnRandomTile(mySprite2, sprites.castle.tilePath5)
    mySprite2.setTrace(true)
    mySprite2.follow(mySprite, 40)
    Sound_for_1st_enemy = sprites.create(img`
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ............................1111......................................
        ..........................1111111.....................................
        ........................111111111.....................................
        ......................11111111111.....................................
        .....................1111111111111....................................
        ....................111111111111111...................................
        ...................1111111111111111...................................
        ...................11111111111111111..................................
        ..................1111111111111111111.................................
        ..................11111111111111111111................................
        ..................111111111111111111111...............................
        .................11111111111111111111111..............................
        .................111111111111111111111111.............................
        ................1111111111111111111111111.............................
        ...............111111111111111111111111111............................
        ................1111111111111111111111111111..........................
        ..............1111111111111111111111111111111.........................
        .............111111111111111111111111111111111........................
        .............1111111111111111111111111111111111.......................
        .............1111111111111111111111111111111111.......................
        .............11111111111111111111111111111111111......................
        ............111111111111111111111111111111111111......................
        ............1111111111111111111111111111111111111.....................
        ..........111111111111111111111111111111111111111.....................
        .........11111111111111111111111111111111111111111....................
        ........111111111111111111111111111111111111111111....................
        .......1111111111111111111111111111111111111111111....................
        ......11111111111111111111111111111111111111111111....................
        .....111111111111111111111111111111111111111111111....................
        .....1111111111111111111111111111111111111111111111...................
        ....11111111111111111111111111111111111111111111111...................
        ....11111111111111111111111111111111111111111111111...................
        ....11111111111111111111111111111111111111111111111...................
        ....11111111111111111111111111111111111111111111111...................
        ....11111111111111111111111111111111111111111111111...................
        ....1111111111111111111111111111111111111111111111....................
        .....111111111111111111111111111111111111111111111....................
        ......11111111111111111111111111111111111111111111....................
        ......11111111111111111111111111111111111111111111....................
        ......111111111111111111111111111111111111111111111...................
        .......11111111111111111111111111111111111111111111...................
        .......111111111111111111111111111111111111111111111..................
        .......1111111111111111111111111111111111111111111111.................
        ........111111111111111111111111111111111111111111111.................
        ........1111111111111111111111111111111111111111111111................
        ........111111111111111111111111111111111111111111111111..............
        .........111111111111111111111111111111111111111111111111.............
        .........1111111111111111111111111111111111111111111111111............
        .........1111111111111111111111111111111111111111111111111............
        .........11111111111111111111111111111111111111111111111111...........
        .........111111111111111111111111111111111111111111111111111..........
        .........1111111111111111111111111111111111111111111111111111.........
        .........1111111111111111111111111111111111111111111111111111.........
        .......1111111111111111111111111111111111111111111111111111111........
        .....111111111111111111111111111111111111111111111111111111111........
        `, SpriteKind.Sound_1)
    Sound_for_1st_enemy.setFlag(SpriteFlag.Invisible, true)
    Render.setSpriteAttribute(Sound_for_1st_enemy, RCSpriteAttribute.ZOffset, 1)
    tiles.placeOnTile(Sound_for_1st_enemy, mySprite2.tilemapLocation())
    Sound_for_1st_enemy.follow(mySprite2, 100)
    Yellow_Key = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4445.............
        ..444455...44.......
        ..f4445555f445......
        ..f444555ff445......
        ..f44455...44.......
        ...f445.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `, SpriteKind.Yellow_Key)
    Red_Key = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...4442.............
        ..444422...44.......
        ..f4442222f442......
        ..f444222ff442......
        ..f44422...44.......
        ...f442.............
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        `, SpriteKind.Red_Key)
    tiles.placeOnRandomTile(Red_Key, sprites.castle.tilePath5)
    tiles.placeOnRandomTile(Yellow_Key, sprites.castle.tilePath5)
    Sanity_Healers = [img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ........dd55........
        ........5555........
        .........44.........
        ........dddd........
        ........dddd........
        .......444444.......
        .......444444.......
        .......444444.......
        .......555555.......
        .......555555.......
        .......555555.......
        ........5555........
        ........4444........
        ....................
        `, img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        .........bb.........
        ........cccc........
        ........cccc........
        .........ff.........
        .........bf.........
        .........bb.........
        ........bbbb........
        .......bbbbbb.......
        .......bbbbbb.......
        .......bbbbbb.......
        .......bbbbbc.......
        ........cccc........
        ....................
        ....................
        `, img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        .....7977777777.....
        .....7777777777.....
        ......66666666......
        ......99999999......
        .....9999999999.....
        .....9999999999.....
        .....9999999999.....
        .....7777777777.....
        .....7777777777.....
        .....7777777776.....
        .....7777777776.....
        ......76666666......
        ....................
        ....................
        `]
    Lables_for_sanity_healers = ["orange juice", "almond water", "can of pickels"]
    for (let index = 0; index < randint(5, 10); index++) {
        Heals_Sanity = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Sanity_Healer)
        Heals_Sanity.setImage(Sanity_Healers._pickRandom())
        tiles.placeOnRandomTile(Heals_Sanity, sprites.castle.tilePath5)
    }
}
statusbars.onStatusReached(StatusBarKind.Sanity_Level, statusbars.StatusComparison.EQ, statusbars.ComparisonType.Percentage, 0, function (status) {
    game.setGameOverMessage(false, "You went insane")
    game.gameOver(false)
})
scene.onOverlapTile(SpriteKind.Red_Arua, sprites.castle.tileGrass2, function (sprite, location) {
    tiles.setWallAt(location, false)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Fake_Keys, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        sprites.destroy(otherSprite, effects.spray, 1000)
        info.changeLifeBy(-1)
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile3`, function (sprite, location) {
    level_2()
})
controller.menu.onEvent(ControllerButtonEvent.Pressed, function () {
    Render.setViewMode(ViewMode.tilemapView)
    pause(5000)
    Render.setViewMode(ViewMode.raycastingView)
    pause(10000)
})
function Remove_item (index: number) {
    item = Toolbar.get_items()[index]
    if (!(item)) {
        return [][0]
    }
    if (item.get_text(ItemTextAttribute.Tooltip) == "") {
        if (Toolbar.get_items().removeAt(index)) {
        	
        }
    } else if (item.get_text(ItemTextAttribute.Tooltip) == "2") {
        item.set_text(ItemTextAttribute.Tooltip, "")
    } else {
        item.set_text(ItemTextAttribute.Tooltip, convertToText(parseFloat(item.get_text(ItemTextAttribute.Tooltip)) - 1))
    }
    Toolbar.update()
    return Inventory.create_item(item.get_text(ItemTextAttribute.Name), item.get_image())
}
function ToolBar () {
    Toolbar = Inventory.create_toolbar([], 3)
    Toolbar.setFlag(SpriteFlag.RelativeToCamera, true)
    Toolbar.left = 4
    Toolbar.bottom = scene.screenHeight() - 4
    Toolbar.z = 50
}
function Inventory_ToolBar () {
    In_Inventory = false
    Cursor_in_inventory = false
    Last_toolbar_select = 0
    Last_inventory_select = 0
    ToolBar()
    Inventory2()
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    B_button_in_inventory()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Sanity_Healer, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        if (Sanity_Healers._pickRandom().equals(img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ........dd55........
            ........5555........
            .........44.........
            ........dddd........
            ........dddd........
            .......444444.......
            .......444444.......
            .......444444.......
            .......555555.......
            .......555555.......
            .......555555.......
            ........5555........
            ........4444........
            ....................
            `)) {
            Sanity.value += 10
            Sanity.max += 5
            sprites.destroy(otherSprite)
        } else if (Sanity_Healers._pickRandom().equals(img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .........bb.........
            ........cccc........
            ........cccc........
            .........ff.........
            .........bf.........
            .........bb.........
            ........bbbb........
            .......bbbbbb.......
            .......bbbbbb.......
            .......bbbbbb.......
            .......bbbbbc.......
            ........cccc........
            ....................
            ....................
            `)) {
            Sanity.value += 20
            Sanity.max += 15
            sprites.destroy(otherSprite)
        } else if (Sanity_Healers._pickRandom().equals(img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .....7977777777.....
            .....7777777777.....
            ......66666666......
            ......99999999......
            .....9999999999.....
            .....9999999999.....
            .....9999999999.....
            .....7777777777.....
            .....7777777777.....
            .....7777777776.....
            .....7777777776.....
            ......76666666......
            ....................
            ....................
            `)) {
            Sanity.value += 5
            sprites.destroy(otherSprite)
        } else {
        	
        }
    } else if (controller.B.isPressed()) {
        for (let index = 0; index <= Sanity_Healers.length - 1; index++) {
            if (otherSprite.image.equals(Sanity_Healers[index])) {
                if (Add_Items([Inventory.create_item(Lables_for_sanity_healers[index], Sanity_Healers[index])])) {
                    sprites.destroy(otherSprite)
                    break;
                }
            }
        }
    }
})
sprites.onOverlap(SpriteKind.Sound_1, SpriteKind.Player, function (sprite, otherSprite) {
    music.play(music.stringPlayable("E B C5 A B G A F ", 120), music.PlaybackMode.UntilDone)
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Player, function (sprite, otherSprite) {
    sprite.follow(otherSprite, 0)
    info.changeLifeBy(-1)
    pause(2000)
    sprite.follow(otherSprite, randint(40, 50))
    sprite.setFlag(SpriteFlag.GhostThroughWalls, true)
    pause(5000)
    sprite.setFlag(SpriteFlag.GhostThroughWalls, false)
})
function Inventory2 () {
    inventory = Inventory.create_inventory([], 100)
    inventory.setFlag(SpriteFlag.RelativeToCamera, true)
    inventory.setFlag(SpriteFlag.Invisible, true)
    inventory.left = 4
    inventory.top = 4
    inventory.z = 50
}
function LeftButton_in_inventory () {
    if (Cursor_in_inventory) {
        if (inventory.get_number(InventoryNumberAttribute.SelectedIndex) % 8 > 0) {
            inventory.change_number(InventoryNumberAttribute.SelectedIndex, -1)
        }
    } else {
        if (Toolbar.get_number(ToolbarNumberAttribute.SelectedIndex) > 0) {
            Toolbar.change_number(ToolbarNumberAttribute.SelectedIndex, -1)
        }
    }
}
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Fake_player, function (sprite, otherSprite) {
    sprite.follow(mySprite, 0)
    pause(1000)
    sprite.follow(mySprite, 40)
    sprites.destroy(otherSprite)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile32`, function (sprite, location) {
    if (controller.A.isPressed()) {
        Sanity.max = 1
        Sanity.value = 1
    }
})
let Lables_for_sanity_healers: string[] = []
let Red_Key: Sprite = null
let Yellow_Key: Sprite = null
let Last_toolbar_select = 0
let Last_inventory_select = 0
let Heals_Sanity: Sprite = null
let Sanity_Healers: Image[] = []
let Trap_Key: Sprite = null
let Fake_Keys: Image[] = []
let Keycard: Sprite = null
let Dark_Purple_Key: Sprite = null
let Blue_Key: Sprite = null
let Orange_Key: Sprite = null
let Pink_Key: Sprite = null
let mySprite3: Dart = null
let Sound_for_1st_enemy: Sprite = null
let mySprite2: Dart = null
let Red_aura: Sprite = null
let item: Inventory.Item = null
let In_Inventory = false
let inventory: Inventory.Inventory = null
let Toolbar: Inventory.Toolbar = null
let Cursor_in_inventory = false
let Sanity: StatusBarSprite = null
let mySprite: Sprite = null
Level_1()
Render.setAttribute(Render.attribute.wallZScale, 1.5)
game.onUpdateInterval(100, function () {
    if (tiles.tileAtLocationEquals(mySprite.tilemapLocation(), sprites.castle.saplingOak) && tiles.tileAtLocationIsWall(mySprite.tilemapLocation())) {
        tiles.placeOnTile(mySprite, mySprite2.tilemapLocation())
    }
    if (info.life() < 3) {
        spriteutils.setLifeImage(img`
            ........................
            ........................
            ........................
            ........................
            ........................
            ..........ffff..........
            ........ff1111ff........
            .......fb111111bf.......
            .......f11111111f.......
            ......fd11111111df......
            ....7.fd11111111df......
            ...7..fd11111111df......
            ...7..fd11111111df......
            ...7..fddd1111dddff.....
            ...77.fbdbfddfbdbfcf....
            ...777fcdcf11fcdcfbf....
            ....77fffbdb1bdffcf.....
            ....fcb1bcffffff........
            ....f1c1c1ffffff........
            ....fdfdfdfffff.........
            .....f.f.f..............
            ........................
            ........................
            ........................
            `)
    }
})
game.onUpdateInterval(500, function () {
    for (let value of tiles.getTilesByType(sprites.dungeon.greenSwitchUp)) {
        if (mySprite.tileKindAt(TileDirection.Top, sprites.dungeon.greenSwitchUp)) {
            tiles.setTileAt(value, assets.tile`myTile0`)
        }
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.purpleSwitchUp)) {
        if (mySprite.tileKindAt(TileDirection.Top, sprites.dungeon.purpleSwitchUp)) {
            tiles.setTileAt(value, assets.tile`myTile1`)
        }
    }
    if (tiles.tileAtLocationEquals(tiles.getTileLocation(45, 5), assets.tile`myTile0`) && tiles.tileAtLocationEquals(tiles.getTileLocation(8, 40), assets.tile`myTile1`)) {
        for (let value of tiles.getTilesByType(sprites.dungeon.doorClosedNorth)) {
            tiles.setWallAt(value, false)
            tiles.setTileAt(value, assets.tile`myTile2`)
        }
    }
})
game.onUpdateInterval(2000, function () {
    Sanity.value += -1
})
